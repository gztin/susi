<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta property="og:image" content="https://gztin.github.io/susi/fixForm/logo-small.jpg">
  <title>報修表單</title>

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css"
    integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous">
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC&display=swap" rel="stylesheet">
  
  <link rel="stylesheet" href="style.css?v=2">
</head>

<body>
	<header class="form-title">
		<img class="logo" src="logo-small.jpg" alt="">
		<p >設備報修單</p>
		<p class="hidden">設備報修單</p>
	</header>
	<section>
		<section class="hint"><p>❗️請確認報修大樓名稱與地址是否正確！不是您的社區嗎？請關掉此表單，回到Line並重新輸入電話或通知小幫手，我們會盡快協助您。</p></section>
		<form action="">
			<div class="block">
				<span class="title">社區 / 商辦 大樓名稱</span>
				<input type="text" class="light-table-filter Community" data-table="order-table" placeholder="填寫名稱" readonly="readonly"  >
			</div>
			<div class="block">
				<span class="title">社區 / 商辦 大樓地址</span>
				<input type="tel" class="light-table-filter userAddress" data-table="order-table" placeholder="填寫地址" readonly="readonly" >
			</div>
			<div class="block">
				<span class="title">報修人（必填）</span>
				<input type="text" class="light-table-filter userName" data-table="order-table" placeholder="填寫報修人" required="required" >
			</div>
			<div class="block">
				<span class="title">聯絡電話（必填）</span>
				<input type="tel" class="light-table-filter userPhone" data-table="order-table" placeholder="請填寫聯絡電話" required="required" >
			</div>
			
			<div class="block">
				<span class="title">報修類別（必填）</span>
				<div class="option">
					<div class="block-issue">
						<section class="issuePic">
							<img src="s1.jpg" alt="">
						</section>
						<section class="issueContent">
							<input class="issueOption" type="radio" name="fix" value="">
							<p>1.當機(畫面上下黑屏 (無電源) /白屏/粉紅屏/停格，重啟無效) </p>
						</section>
					</div>
					<div class="block-issue">
						<section class="issuePic">
							<img src="s4.jpg" alt="">
						</section>
						<section class="issueContent">
							<input class="issueOption" type="radio" name="fix" value="">
							<p>2.公告無法更新(公告已上傳/刪除，機台無更新，重啟無效/ 公告教學/訊號問題 ) </p>
						</section>
					</div>
					
				</div>
				<div class="option">
					<div class="block-issue">
						<section class="issuePic">
							<img src="s3.jpg" alt="">
						</section>
						<section class="issueContent fixsize">
							<input class="issueOption" type="radio" name="fix" value="">
							<p>3.系統登入相關問題 (軟體故障) </p>
						</section>
					</div>
					<div class="block-issue">
						<section class="issuePic">
							<img src="s2.jpg" alt="">
						</section>
						<section class="issueContent fixsize">
							<input class="issueOption" type="radio" name="fix" value="">
							<p>4.當前無播放計劃 (素材下載或時間設定問題) </p>
						</section>
					</div>
				</div>
				<div class="option">
					<div class="block-issue">
						<section class="issuePic">
							<img src="s5.jpg" alt="">
						</section>
						<section class="issueContent fixsize">
							<input class="issueOption" type="radio" name="fix" value="">
							<p>5.文件收取(合約用印完成；發票/收據開立完成)</p>
						</section>
					</div>
					<div class="block-issue">
						<section class="issuePic">
							<img src="s7.jpg" alt="">
						</section>
						<section class="issueContent fixsize">
							<input class="issueOption" type="radio" name="fix" value="" >
							<p>6.異音(風扇問題) /聲音調整</p>
						</section>
					</div>
				</div>
			</div>
			<div class="block">
				<span class="title-fanProblem">7.其它問題(請於下方備註文字區塊描述問題內容)</span>
				<textarea type="textarea" rows="4" cols="50" class="" data-table="order-table" placeholder=""></textarea>
			</div>
			<div class="block">
				<span class="title">報修圖片1</span>
				<input class="uploadFile" type="file">
			</div>
			<div class="block">
				<span class="title">報修圖片2</span>
				<input class="uploadFile" type="file">
			</div>
			<div class="block">
				<span class="title">報修圖片3</span>
				<input class="uploadFile" type="file">
			</div>
			<hr>
			<div class="block block-device">
				<div class="notice">
					<p class="deviceHint">請參考電子佈告欄左(或右)上角銀/白色貼紙,第一欄印有社區名稱及編號。
						若貼紙遺失或模糊,請於上述第7項備註該設備電梯棟別編號或門牌號，以利維修人員優先前往處理。</p>
					<div class="block-sample">
						<span><img src="fix01.jpg" alt=""></span>
						<span><img src="fix02.jpg" alt=""></span>
					</div>
				</div>
				<span class="title">勾選需報修的設備（必填）</span>
				<table class="table table-bordered table-hover">
					<tr>
						<th class="active">
							<input type="checkbox" class="select-all checkbox" name="select-all" />
						</th>
						<th class="tb-cell itemType">設備名稱</th>
						<th class="tb-cell itemName">設備地址</th>
						
					</tr>
					<tr>
						<td class="active">
							<input type="checkbox" class="select-item checkbox" name="select-item" value="1000" />
						</td>
						<td class="tb-cell itemType">百樂大廈a棟-1</td>
						<td class="tb-cell itemName">桃園市中正路一段482巷11弄100號</td>
					</tr>
					<tr>
						<td class="active">
							<input type="checkbox" class="select-item checkbox" name="select-item" value="1000" />
						</td>
						<td class="tb-cell itemType">百樂大廈a棟-2</td>
						<td class="tb-cell itemName">桃園市中正路一段482巷11弄101號</td>
					</tr>
					<tr>
						<td class="active">
							<input type="checkbox" class="select-item checkbox" name="select-item" value="1000" />
						</td>
						<td class="tb-cell itemType">百樂大廈a棟-3</td>
						<td class="tb-cell itemName">桃園市中正路一段482巷11弄102號</td>
					</tr>
					<tr>
						<td class="active">
							<input type="checkbox" class="select-item checkbox" name="select-item" value="1000" />
						</td>
						<td class="tb-cell itemType">百樂大廈a棟-4</td>
						<td class="tb-cell itemName">桃園市中正路一段482巷11弄103號</td>
					</tr>
				</table>
			</div>
			<button id="sendInf" class="btn btn-votePrice btn-block sendInf" type="button">送出報修單</button>
			<!-- <input class="btn btn-primary btn-block sendInf" type="submit" value="送出報修單" onsubmit="return check();"> -->
		</form>
	</section>
</body>
	<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
	<script src="https://cdn.datatables.net/1.10.20/js/jquery.dataTables.min.js" crossorigin="anonymous"></script>
	<script src="https://kit.fontawesome.com/85155ffcd6.js"></script>
	<script src="js/pickAll.js"></script>
	<script>
		
		$(".block-issue").click(function(){
			$(this).find("input").prop("checked", true);
		});

		$(".sendInf").click(function(){
			let userName = $(".userName").val();
			let userPhone = $(".userPhone").val();
			let userPhoneSize = userPhone.length;
			let regu = "^[ ]+$";
			let empty = new RegExp(regu);
			let regex = /^[0-9\s]*$/;
			//聯絡人資料空白檢查
			if(userName==""){
				console.log("目前輸入的姓名是："+userName);
				alert("報修人資料需填寫，請重新輸入");
				$(".userName").val("");
			}
			else if(empty.test(userName)){
				console.log("目前報修人姓名是："+userName);
				alert("報修人資料不能是空白，請重新輸入");
				$(".userName").val("");
			}
			// 聯絡電話空格檢查
			else if(empty.test(userPhone)){
				console.log("目前輸入的手機號碼是："+userPhone);
				alert("聯絡電話資料不能是空白，請重新輸入");
				$(".userPhone").val("");
			}
			// 聯絡電話長度檢查
			else if(userPhoneSize > 10){
				console.log("目前輸入的手機號碼長度是："+userPhoneSize);
				alert("電話格式不符，請重新輸入");
			}
			// 聯絡電話空白檢查
			else if(userPhone ==''){
				console.log("目前輸入的手機號碼是："+userPhone);
				alert("聯絡電話資料需填寫，請重新輸入");
			}
			// 聯絡電話特殊符號檢查
			//else if(specialSignal.test(userPhone)){
			//	console.log("目前輸入的手機號碼是："+userPhone);
			//	alert("電話資料不能含有特殊符號，請重新輸入");
			//}
			// 聯絡電話全形檢查
			else if(!regex.test(userPhone)){
				console.log("目前輸入的手機號碼是："+userPhone);
				alert("手機格式錯誤(請切換到半形、全數字不輸入任何符號)，請重新填寫");
				$(".userPhone").val("");
			}
			else{
				alert("已發送表單，等待跳轉至訊息提示頁面")
				$(".sendInf").attr('disabled', true);
			}
		});
		
		//全形轉半形
		function toASCII(chars) {
			var ascii = '';
			for(var i=0, l=chars.length; i<l; i++) {
				var c = chars[i].charCodeAt(0);
				//只針對半形去轉換
				if (c >= 0xFF00 && c <= 0xFFEF) {
					c = 0xFF & (c + 0x20);
				}
				ascii += String.fromCharCode(c);
			}
			return ascii;
		}
	</script>
</html>